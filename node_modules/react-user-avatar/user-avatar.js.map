{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAM,QAAQ,QAAQ,OAAR,CAAd;AACA,IAAM,WAAW,QAAQ,UAAR,CAAjB;AACA,IAAM,QAAQ,QAAQ,QAAR,CAAd;AACA,IAAM,WAAW,QAAQ,UAAR,CAAjB;;AAEA;AACA,IAAM,gBAAgB,CACpB,SADoB,EACT;AACX,SAFoB,EAET;AACX,SAHoB,EAGT;AACX,SAJoB,EAIT;AACX,SALoB,EAKT;AACX,SANoB,EAMT;AACX,SAPoB,CAAtB;;AAUA,SAAS,QAAT,CAAkB,GAAlB,EAAuB;AACrB,MAAI,MAAM,CAAV;AACA,OAAI,IAAI,IAAI,CAAZ,EAAe,IAAI,IAAI,MAAvB,EAA+B,GAA/B,EAAoC;AAClC,WAAO,IAAI,UAAJ,CAAe,CAAf,CAAP;AACD;;AAED,SAAO,GAAP;AACD;;IAEK,U;;;;;;;;;;;6BACK;AAAA,mBAYH,KAAK,KAZF;AAAA,uCAEL,YAFK;AAAA,UAEL,YAFK,uCAEQ,MAFR;AAAA,UAGL,GAHK,UAGL,GAHK;AAAA,UAIL,MAJK,UAIL,MAJK;AAAA,UAKL,IALK,UAKL,IALK;AAAA,UAML,KANK,UAML,KANK;AAAA,iCAOL,MAPK;AAAA,UAOL,MAPK,iCAOE,aAPF;AAAA,UAQL,IARK,UAQL,IARK;AAAA,UASL,KATK,UASL,KATK;AAAA,UAUL,OAVK,UAUL,OAVK;AAAA,UAWL,SAXK,UAWL,SAXK;;;AAcP,UAAI,CAAC,IAAL,EAAW,MAAM,IAAI,KAAJ,CAAU,4BAAV,CAAN;;AAEX,UAAM,OAAO,SAAS,IAAT,CAAb;AACA,aAAO,MAAM,IAAN,CAAP;;AAEA,UAAM,aAAa;AACjB,iBAAS,OADQ;AAEjB;AAFiB,OAAnB;;AAKA,UAAM,aAAa;AACjB,oBAAY,IADK;AAEjB,mBAAW,QAFM;AAGjB;AAHiB,OAAnB;;AAMA,UAAI,IAAJ,EAAU;AACR,mBAAW,KAAX,GAAmB,WAAW,KAAX,GAAmB,WAAW,QAAX,GAAsB,IAA5D;AACA,mBAAW,MAAX,GAAoB,WAAW,MAAX,GAAoB,WAAW,SAAX,GAAuB,IAA/D;AACD;;AAED,UAAI,cAAJ;AAAA,UAAW,UAAU,CAAC,SAAD,EAAY,YAAZ,CAArB;AACA,UAAI,OAAO,MAAX,EAAmB;AACjB,gBAAQ,6BAAK,WAAU,iBAAf,EAAiC,OAAO,UAAxC,EAAoD,KAAK,GAAzD,EAA8D,QAAQ,MAAtE,EAA8E,KAAK,IAAnF,GAAR;AACD,OAFD,MAEO;AACL,YAAI,mBAAJ;AACA,YAAI,KAAJ,EAAW;AACT,uBAAa,KAAb;AACD,SAFD,MAEO;AACL;AACA,cAAI,IAAI,SAAS,IAAT,IAAiB,OAAO,MAAhC;AACA,uBAAa,OAAO,CAAP,CAAb;AACD;;AAED,mBAAW,eAAX,GAA6B,UAA7B;;AAEA,gBAAQ,IAAR;AACD;;AAED,UAAI,WAAW,eAAf,EAAgC;AAC9B,gBAAQ,IAAR,kBAA4B,SAAS,WAAW,eAApB,CAA5B;AACD;;AAED,aACE;AAAA;AAAA,UAAK,cAAY,IAAjB,EAAuB,WAAW,QAAQ,IAAR,CAAa,GAAb,CAAlC,EAAqD,OAAO,KAA5D;AACE;AAAA;AAAA,YAAK,WAAU,mBAAf,EAAmC,OAAO,UAA1C;AACG;AADH;AADF,OADF;AAOD;;;;EAjEsB,MAAM,S;;AAoE/B,OAAO,OAAP,GAAiB,UAAjB","file":"user-avatar.js","sourcesContent":["const React = require('react');\nconst initials = require('initials');\nconst addPx = require('add-px');\nconst contrast = require('contrast');\n\n// from https://flatuicolors.com/\nconst defaultColors = [\n  '#2ecc71', // emerald\n  '#3498db', // peter river\n  '#8e44ad', // wisteria\n  '#e67e22', // carrot\n  '#e74c3c', // alizarin\n  '#1abc9c', // turquoise\n  '#2c3e50', // midnight blue\n];\n\nfunction sumChars(str) {\n  let sum = 0;\n  for(let i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum;\n}\n\nclass UserAvatar extends React.Component {\n  render() {\n    let {\n      borderRadius='100%',\n      src,\n      srcset,\n      name,\n      color,\n      colors=defaultColors,\n      size,\n      style,\n      onClick,\n      className\n    } = this.props;\n\n    if (!name) throw new Error('UserAvatar requires a name');\n\n    const abbr = initials(name);\n    size = addPx(size);\n\n    const imageStyle = {\n      display: 'block',\n      borderRadius\n    };\n\n    const innerStyle = {\n      lineHeight: size,\n      textAlign: 'center',\n      borderRadius\n    };\n\n    if (size) {\n      imageStyle.width = innerStyle.width = innerStyle.maxWidth = size;\n      imageStyle.height = innerStyle.height = innerStyle.maxHeight = size;\n    }\n\n    let inner, classes = [className, 'UserAvatar'];\n    if (src || srcset) {\n      inner = <img className=\"UserAvatar--img\" style={imageStyle} src={src} srcSet={srcset} alt={name} />\n    } else {\n      let background;\n      if (color) {\n        background = color;\n      } else {\n        // pick a deterministic color from the list\n        let i = sumChars(name) % colors.length;\n        background = colors[i];\n      }\n\n      innerStyle.backgroundColor = background;\n\n      inner = abbr;\n    }\n\n    if (innerStyle.backgroundColor) {\n      classes.push(`UserAvatar--${contrast(innerStyle.backgroundColor)}`);\n    }\n\n    return (\n      <div aria-label={name} className={classes.join(' ')} style={style}>\n        <div className=\"UserAvatar--inner\" style={innerStyle}>\n          {inner}\n        </div>\n      </div>\n    )\n  }\n}\n\nmodule.exports = UserAvatar;\n"]}